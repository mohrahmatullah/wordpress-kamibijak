/**
 * Tilt Hover Effects
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * Copyright 2016, Codrops
 * http://www.codrops.com
 */
!function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(b){var c=0,d=0;if(!b)var b=a.event;return b.pageX||b.pageY?(c=b.pageX,d=b.pageY):(b.clientX||b.clientY)&&(c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:c,y:d}}function d(a,c){this.DOM={},this.DOM.el=a,this.options=b({},this.options),b(this.options,c),this._init()}d.prototype.options={movement:{imgWrapper:{translation:{x:0,y:0,z:0},rotation:{x:-5,y:5,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}},lines:{translation:{x:10,y:10,z:[0,10]},reverseAnimation:{duration:1e3,easing:"easeOutExpo",elasticity:600}},caption:{translation:{x:20,y:20,z:0},rotation:{x:0,y:0,z:0},reverseAnimation:{duration:1500,easing:"easeOutElastic",elasticity:600}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}}}},d.prototype._init=function(){this.DOM.animatable={},this.DOM.animatable.imgWrapper=this.DOM.el.querySelector(".tilter__figure"),this.DOM.animatable.lines=this.DOM.el.querySelector(".tilter__deco--lines"),this.DOM.animatable.caption=this.DOM.el.querySelector(".tilter__caption"),this.DOM.animatable.overlay=this.DOM.el.querySelector(".tilter__deco--overlay"),this.DOM.animatable.shine=this.DOM.el.querySelector(".tilter__deco--shine > div"),this._initEvents()},d.prototype._initEvents=function(){var a=this;this.mouseenterFn=function(){for(var b in a.DOM.animatable)anime.remove(a.DOM.animatable[b])},this.mousemoveFn=function(b){requestAnimationFrame(function(){a._layout(b)})},this.mouseleaveFn=function(b){requestAnimationFrame(function(){for(var b in a.DOM.animatable)void 0!=a.options.movement[b]&&anime({targets:a.DOM.animatable[b],duration:void 0!=a.options.movement[b].reverseAnimation?a.options.movement[b].reverseAnimation.duration||0:1,easing:void 0!=a.options.movement[b].reverseAnimation?a.options.movement[b].reverseAnimation.easing||"linear":"linear",elasticity:void 0!=a.options.movement[b].reverseAnimation?a.options.movement[b].reverseAnimation.elasticity||null:null,scaleX:1,scaleY:1,scaleZ:1,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0})})},this.DOM.el.addEventListener("mousemove",this.mousemoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("mouseenter",this.mouseenterFn)},d.prototype._layout=function(a){var b=c(a),d={left:document.body.scrollLeft+document.documentElement.scrollLeft,top:document.body.scrollTop+document.documentElement.scrollTop},e=this.DOM.el.getBoundingClientRect(),f={x:b.x-e.left-d.left,y:b.y-e.top-d.top};for(var g in this.DOM.animatable)if(void 0!=this.DOM.animatable[g]&&void 0!=this.options.movement[g]){var h=void 0!=this.options.movement[g]?this.options.movement[g].translation||{x:0,y:0,z:0}:{x:0,y:0,z:0},i=void 0!=this.options.movement[g]?this.options.movement[g].rotation||{x:0,y:0,z:0}:{x:0,y:0,z:0},j=function(a){for(var b in a)void 0==a[b]?a[b]=[0,0]:"number"==typeof a[b]&&(a[b]=[-1*a[b],a[b]])};j(h),j(i);var k={translation:{x:(h.x[1]-h.x[0])/e.width*f.x+h.x[0],y:(h.y[1]-h.y[0])/e.height*f.y+h.y[0],z:(h.z[1]-h.z[0])/e.height*f.y+h.z[0]},rotation:{x:(i.x[1]-i.x[0])/e.height*f.y+i.x[0],y:(i.y[1]-i.y[0])/e.width*f.x+i.y[0],z:(i.z[1]-i.z[0])/e.width*f.x+i.z[0]}};this.DOM.animatable[g].style.WebkitTransform=this.DOM.animatable[g].style.transform="translateX("+k.translation.x+"px) translateY("+k.translation.y+"px) translateZ("+k.translation.z+"px) rotateX("+k.rotation.x+"deg) rotateY("+k.rotation.y+"deg) rotateZ("+k.rotation.z+"deg)"}},a.TiltFx=d}(window);